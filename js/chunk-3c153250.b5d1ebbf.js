(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3c153250"],{3579:function(t,e,s){"use strict";var a=s("5cb2");s.n(a).a},"5cb2":function(t,e,s){},"9d19":function(t,e,s){"use strict";s("ac6a"),s("20d6");var a=s("f499"),i=s.n(a),n=s("e814"),l=s.n(n),d=s("a34a"),o=s.n(d),r=(s("96cf"),s("3b8d")),c=s("7618"),p=s("795b"),h=s.n(p),u=(s("7f7f"),s("cebc")),g=s("d8af"),f=s("42a2"),m=s("2f62"),v=s("c276"),_=s("91b6"),A=s("7e79"),b=s("8020"),L=(s("5333"),s("7e3c"),s("5990")),w=s("3266"),k={data:function(){return{addUeAsssetDialogHeight:"height:"+(window.innerHeight-180)+"px",addUeAsssetLeftHeight:"height:"+(window.innerHeight-220)+"px",addUeAsssetRightHeight:"height:"+(window.innerHeight-240)+"px",addUeAsssetErrHeight:"height:"+(window.innerHeight-240)+"px",uploadUrl:"http://aniapi.tgyc.com/index.php/home/upload/upload_disk",assetImguploadPercent:0,asssetFileUploadPercent:0,setimgBoxForm:{thum:""},uploadFileType:"",uploadHeader:{"X-token":v.a.cookies.get("token"),"X-user-id":v.a.cookies.get("user"),"X-user-name":v.a.cookies.get("userName")},optionCircleimg:"",clickData:{classValue:[]},Cropperbox:!1,option:{img:"",outputSize:1,full:!0,outputType:"png",canMove:!0,original:!1,canMoveBox:!1,autoCrop:!0,fixedBox:!1,info:!0,canScale:!0,fixed:!0,fixedNumber:[],high:!0},imgurl:"http://hl.tgyc.com",headers:{"X-token":"".concat(v.a.cookies.get("token"))},treeClickData:"",addAsssetDialog:!1,addAssetCropperbox:!1,addAssetOptionCircleimg:"",addAssetOption:{img:"",outputSize:1,full:!1,outputType:"png",canMove:!0,original:!1,canMoveBox:!0,autoCrop:!0,fixedBox:!1,info:!0,canScale:!0,fixed:!1,high:!1,maxImgSize:100,enlarge:"1",fixedNumber:[4,3]},assetThumData:"",assetThum:{},addAssetImgList:[],addAssetData:{name:"",cname:"",type:"zprj"},assetTypeOption:[{value:"zprj",label:"zprj"},{value:"ma",label:"ma"},{value:"ueProject",label:"ueProject"},{value:"FX",label:"FX"},{value:"zip",label:"zip"}],assetFileList:[],ueAsset:{name:"",cname:"",package_name:"",package_path:"",content_path:"",asset_class:"",size:{x:0,y:0,z:0}},ueAssetFileList:[],selectlabelValue:[],selectlabelList:[],midselectlabelList:"",labelList:[],uploadState:!1,uploadErrList:[],uploadErrShow:!1,uploadProgress:0}},computed:Object(u.a)({},Object(m.e)("d2admin/user",["info"])),created:function(){},components:{VueCropper:A.VueCropper,houseAside:w.a},mounted:function(){window.addEventListener("resize",this.getHeight)},methods:Object(u.a)({},Object(m.b)("d2admin/account",["logout"]),Object(m.b)("d2admin/page",["closeAll"]),{assetInit:function(){this.ueAsset={name:"",cname:"",package_name:"",package_path:"",content_path:"",asset_class:"",size:{x:0,y:0,z:0}},this.ueAssetFileList=[],this.selectlabelValue=[]},fileUploadSuccessHandel:function(t,e,s){var a=JSON.parse(Object(f.a)(t)).data;Object(g.a)(),this.assetThumData=this.$task.imgBaseUrl+a.www_path+a.path;var i=a.path.slice(a.path.lastIndexOf("/")+1,a.path.length),n={file_type:this.uploadFileType,server_name:i,path:a.path,disk_id:a.disk_id,www_path:a.www_path};this.assetThum=n,"gif"!=this.uploadFileType&&(this.addAssetOption.img=this.assetThumData,this.openSetAssetThumCtr())},getHeight:function(){this.addUeAsssetDialogHeight="height:"+(window.innerHeight-180)+"px",this.addUeAsssetLeftHeight="height:"+(window.innerHeight-220)+"px",this.addUeAsssetRightHeight="height:"+(window.innerHeight-240)+"px",this.addUeAsssetErrHeight="height:"+(window.innerHeight-240)+"px"},beforeUploadHandel:function(t){var e=this,s=t.name.slice(t.name.lastIndexOf(".")+1,t.name.length).toLowerCase();if(this.uploadFileType=s,this.uploadUrl="","mp4"==s||"mov"==s||"avi"==s){return t.size/1024/1024<100?(Object(g.b)(),this.uploadFileType="gif",new h.a(function(t){e.$nextTick(function(){e.uploadUrl="http://aniapi.tgyc.com/index.php/home/upload/upload_disk_gif",t()})})):(this.$message.error("上传视频不能超过 100MB!"),!1)}return t.size/1024/1024<100?new h.a(function(t){e.$nextTick(function(){e.uploadUrl="http://aniapi.tgyc.com/index.php/home/upload/upload_disk",t()})}):(this.$message.error("上传文件大小不能超过 100MB!"),!1)},addOtherAsset:function(t){this.assetInit(),this.getAllLabelHandel(),this.addAssetData.name="",this.addAssetData.cname="",this.assetThum={},this.addAssetImgList=[],this.assetFileList=[],this.assetThumData="",this.treeClickData=t,this.addAsssetDialog=!0,this.addAssetData.type=void 0==t.classType?"zprj":t.classType},getbase64Img:function(t){return new h.a(function(e,s){var a={img:t};Object(_.b)(a).then(function(t){e(t)})})},openSetAssetThumCtr:function(){this.addAssetCropperbox=!0},assetUploadImg:function(t){var e=this,s=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var a=new FileReader;a.onload=function(t){var a,i,n,l;a="object"===Object(c.a)(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,i=s,n=function(t){var s=new Image;s.setAttribute("crossOrigin","anonymous"),s.src=t,s.onload=function(){e.addAssetOptionCircleimg=t,e.addAssetOption.img=a}},(l=new FileReader).readAsDataURL(i),l.onload=function(t){n(t.target.result)}},a.readAsArrayBuffer(s)},assetRotateLeft:function(){this.$refs.assetCropper.rotateLeft()},assetRotateRight:function(){this.$refs.assetCropper.rotateRight()},assetQueren:function(){var t=this,e=this.$refs.assetCropper.cropW,s=this.$refs.assetCropper.cropH,a=1;a=(a=e>s?600/e:600/s).toFixed(2),this.$refs.assetCropper.enlarge=a,this.$refs.assetCropper.getCropData(function(){var e=Object(r.a)(o.a.mark(function e(s){var a,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.assetThumData=s,e.next=5,t.getbase64Img(s);case 5:a=e.sent,i=a.path.slice(a.path.lastIndexOf("/")+1,a.path.length),a.file_type="png",a.server_name=i,t.assetThum=a,t.addAssetCropperbox=!1;case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},beforeassetImgUpload:function(t){var e=t.name.slice(t.name.lastIndexOf(".")+1,t.name.length).toLowerCase(),s="png"===e||"jpg"===e||"mp4"===e||"mov"===e||"avi"===e,a="";return"mp4"===e||"mov"===e||"avi"===e?a=t.size/1024/1024<1024:"png"!==e&&"jpg"!==e||(this.addfeekBackType="1",a=t.size/1024/1024<100),s?a?a&&s:(Object(g.a)(),this.$message.error("上传图片大小不能超过 100MB!, 视频不能超过1024M"),!1):(Object(g.a)(),this.$message.error("格式暂不支持!"),!1)},assetImgprogress:function(t,e,s){this.assetImguploadPercent=l()(t.percent)},asssetFilebeforeupload:function(t){},asssetFileprogress:function(t,e,s){this.asssetFileUploadPercent=l()(t.percent)},assetImgupload:function(t,e,s){var a=JSON.parse(Object(f.a)(t)).data,i=e.name.slice(e.name.lastIndexOf(".")+1,e.name.length).toLowerCase(),n=a.path.slice(a.path.lastIndexOf("/")+1,a.path.length);this.addAssetImgList.push({file_type:i,server_name:n,server_path:a.path,disk_id:a.disk_id,www_path:a.www_path})},addAssetMaxImgDel:function(t){this.addAssetImgList.splice(t,1)},addAsssetFileListDel:function(t){this.assetFileList.splice(t,1)},asssetFileUpload:function(t,e,s){var a=JSON.parse(Object(f.a)(t)).data,i=e.name.slice(e.name.lastIndexOf(".")+1,e.name.length).toLowerCase(),n=a.path.slice(a.path.lastIndexOf("/")+1,a.path.length),d=l()(e.raw.lastModified/1e3);this.assetFileList.push({file_name:e.name,size:e.size,mtime:d,file_type:i,server_name:n,server_path:a.path,disk_id:a.disk_id,www_path:a.www_path})},submitAsset:function(){var t=this;if(Object(g.b)(),""==this.addAssetData.name)return this.$message({message:"请填写资产名称",type:"warning"}),void Object(g.a)();if(""==this.assetThum.path||void 0==this.assetThum.path)return this.$message({message:"请上传资产缩略图",type:"warning"}),void Object(g.a)();if(0==this.addAssetImgList.length)return this.$message({message:"请上传视频图片展示",type:"warning"}),void Object(g.a)();if("6"==this.treeClickData.type&&0==this.assetFileList.length)return this.$message({message:"请上传资产文件",type:"warning"}),void Object(g.a)();var e=[],s=[];e.push({type:"0",sort:0,file_type:this.assetThum.file_type,server_name:this.assetThum.server_name,server_path:this.assetThum.path,disk_id:this.assetThum.disk_id});for(var a=0;a<this.addAssetImgList.length;a++)e.push({type:"1",sort:0,file_type:this.addAssetImgList[a].file_type,server_name:this.addAssetImgList[a].server_name,server_path:this.addAssetImgList[a].server_path,disk_id:this.addAssetImgList[a].disk_id});for(a=0;a<this.assetFileList.length;a++)s.push({name:this.assetFileList[a].file_name,local_path:"",type:this.assetFileList[a].file_type,server_path:this.assetFileList[a].server_path,size:this.assetFileList[a].size,mtime:this.assetFileList[a].mtime,disk_id:this.assetFileList[a].disk_id});var n=[this.treeClickData.id],l={name:this.addAssetData.name,cname:this.addAssetData.cname,local_path:"",type:this.addAssetData.type,ref_file:i()(s),ref_assets:"[]",play_file:i()(e),class:i()(n),label:"[]"};Object(L.d)(l).then(function(e){t.$message({type:"success",message:"上传成功"}),t.addAsssetDialog=!1,Object(g.a)(),t.$emit("addAsssetDialog")})},getSelectAsset:function(){var t=this;window.ue&&window.ue.obj.getselectasset().then(function(e){var s=JSON.parse(e);t.ueAsset.name=s.name,t.ueAsset.package_name=s.package_name,t.ueAsset.package_path=s.package_path,t.ueAsset.asset_class=s.asset_class,t.ueAsset.content_path="Content"+s.package_path.slice(5,s.package_path.length),"StaticMesh"==s.asset_class?t.getAssetDataAndSetXYZ(s):"Blueprint"==s.asset_class&&t.getSkeletalMeshAndSetXYZ(s),t.getAssetRefs(s)}).catch(function(t){})},getAssetRefs:function(t){var e=this,s=[];this.ueAssetFileList=[];var a;t.package_name;s.push({package_name:t.package_name,package_path:t.package_path,asset_class:t.asset_class,refs_state:!1});var n=function(){for(var t=0;t<s.length;t++)if(!s[t].refs_state){l(s[t]);break}d()},l=function(t){window.ue.obj.getassetrefs(t.package_name).then(function(e){try{t.refs_state=!0;for(var a=JSON.parse(e),i=0;i<a.length;i++){var l=a[i].package_name,d=-1!=l.indexOf("/Game/Asset/Module/A_Materials"),o=-1!=l.indexOf("/Game");if(!d&&o){-1==s.findIndex(function(t){return t.package_name==l})&&s.push(a[i])}}n()}catch(t){}}).catch(function(t){})},d=function(){for(var t=[],n=0;n<s.length;n++){var l=e.$task.getPackageNameToFilePath(s[n].package_name,s[n].asset_class),d=a+l;s[n].content_path=l,s[n].path=d,s[n].ftype=d.slice(d.lastIndexOf(".")+1,d.length),s[n].upload_state=!1,t.push({path:d})}window.ue.obj.getlocalfilestat(i()(t)).then(function(t){try{for(var a=JSON.parse(t),i=0;i<a.length;i++){var n=s.findIndex(function(t){return t.path==a[i].path});n>-1&&(s[n].size=a[i].size,s[n].mtime=a[i].mtime)}e.ueAssetFileList=s,e.ueAssetFileList.splice()}catch(t){}}).catch(function(t){})};window.ue.obj.webgetdownloadprojectpath().then(function(t){a=t,n()})},setAssetData:function(t){var e=t.min_x,s=t.min_y,a=t.min_z,i=t.max_x,n=t.max_y,l=t.max_z,d=Math.abs(e)+Math.abs(i);d=d.toFixed(2);var o=Math.abs(s)+Math.abs(n);o=o.toFixed(2);var r=Math.abs(a)+Math.abs(l),c={x:d,y:o,z:r=r.toFixed(2)};this.ueAsset.size=c},getSkeletalMeshAndSetXYZ:function(t){var e=this;window.ue.obj.getassetrefs(t.package_name).then(function(t){try{var s=JSON.parse(t),a=s.findIndex(function(t){return"SkeletalMesh"==t.asset_class});if(a>-1){var i=s[a].package_name,n=i+"."+i.slice(i.lastIndexOf("/")+1,i.length);window.ue.obj.getskeletalmeshdata(n).then(function(t){if(""!=t){var s=JSON.parse(t);e.setAssetData(s)}else e.$message({type:"error",message:"大小获取失败"})}).catch(function(t){})}}catch(t){}}).catch(function(t){})},getAssetDataAndSetXYZ:function(t){var e=this,s=t.package_name,a=(s="Content"+s.slice(5,s.length))+".uasset",i=(t.package_name,t.object_path);window.ue.obj.webgetdownloadprojectpath().then(function(t){var s=t+a;window.ue.obj.webgetfilestat(s).then(function(t){0==JSON.parse(t).fsize?e.$message({type:"error",message:"未找到文件"}):window.ue.obj.getassetdata(i).then(function(t){if(""!=t){var s=JSON.parse(t);e.setAssetData(s)}else e.$message({type:"error",message:"大小获取失败"})})})})},submitAdd:function(){var t=this;if(this.uploadState)this.$message({type:"error",message:"请勿重复提交"});else{this.uploadProgress=0,this.uploadState=!0,this.uploadErrList=[];var e=v.a.file.diskid,s=[],a=[],n=this.ueAssetFileList,l=[],d=0,o=0;if(""==this.assetThum.path)return this.uploadState=!1,void this.$message({type:"error",message:"请上传缩略图"});if(l.push({type:"0",sort:0,file_type:this.assetThum.file_type,server_name:this.assetThum.server_name,server_path:this.assetThum.path,disk_id:this.assetThum.disk_id}),!(this.addAssetImgList.length>0))return this.uploadState=!1,void this.$message({type:"error",message:"请上传展示图"});for(var r=0;r<this.addAssetImgList.length;r++)l.push({type:"1",sort:r,file_type:this.addAssetImgList[r].file_type,server_name:this.addAssetImgList[r].server_name,server_path:this.addAssetImgList[r].server_path,disk_id:this.addAssetImgList[r].disk_id});var c=function(){for(var d,o=!0,r=0;r<n.length;r++)if(!n[r].upload_state){o=!1;break}o&&(d={name:t.ueAsset.name,cname:t.ueAsset.cname,local_path:t.ueAsset.content_path,type:t.ueAsset.asset_class,thum:"",mac_thum:"",disk_id:e,x:t.ueAsset.size.x,y:t.ueAsset.size.y,z:t.ueAsset.size.z,fbx:"",ref_file:i()(s),ref_assets:"[]",class:i()([t.treeClickData.id]),label:i()(a),asset_play:i()(l)},Object(L.a)(d).then(function(e){t.uploadState=!1,t.addAsssetDialog=!1,t.$emit("addChange")}))},p=function(a){var l=a.path,r=v.a.file.getRnadomFiveInt(),p=v.a.file.diskPath+"/"+r+"."+a.ftype,h="/"+r+"."+a.ftype,u=a.package_name;u=u.slice(u.lastIndexOf("/")+1,u.length);var g={id:l,type:"up",localPath:l,serverPath:p,name:u,nodisk_path:a.content_path,successFc:function(l){a.server_path_all=p,a.server_path=h,function(a){o++,t.uploadProgress=(o/d*100).toFixed(0);var l=a.package_name;l=l.slice(l.lastIndexOf("/")+1,l.length);var r={add_list:i()([{name:l,local_path:a.content_path,server_path:a.server_path,size:a.size,mtime:a.mtime,type:a.ftype,disk_id:e}])};Object(L.b)(r).then(function(t){var e=n.findIndex(function(t){return t.package_name==a.package_name});e>-1&&(n[e].upload_state=!0,n[e].file_id=t[0],s.push(t[0]),c())})}(a)},progressFc:function(t){},failFc:function(e){t.uploadState=!1,t.$message({type:"error",message:l+"上传错误，请检查后重试！！！"})}};v.a.file.addUpload(g)},h=function(){for(var e=[],s=0;s<n.length;s++)-1==n[s].size&&(n[s].base="文件未找到，请检查本地文件是否存在！！！",e.push(n[s]));if(e.length>0)t.uploadErrList=e,t.uploadErrShow=!0,t.uploadState=!1;else{d=n.length;for(s=0;s<n.length;s++)p(n[s])}},u=[];if(this.selectlabelValue.forEach(function(e){var s=t.selectlabelList.findIndex(function(t){return t.id==e});s>-1?a.push(t.selectlabelList[s].id):u.push(e)}),u.length>0){var g={name:i()(u)};Object(b.d)(g).then(function(t){t.forEach(function(t){a.push(t.id)}),h()})}else h()}},filterablemethod:function(t){var e=this;this.selectlabelList=this.midselectlabelList.filter(function(e){return~e.name.indexOf(t)}),setTimeout(function(){e.$refs.select.hoverIndex=0},100)},getAllLabelHandel:function(){var t=this;Object(b.j)().then(function(e){t.labelList=e,t.selectlabelList=JSON.parse(i()(t.labelList)),t.midselectlabelList=JSON.parse(i()(t.labelList))})}})},y=(s("3579"),s("2877")),C=Object(y.a)(k,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:"裁剪图片",visible:t.addAssetCropperbox,width:"800px"},on:{"update:visible":function(e){t.addAssetCropperbox=e}}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"img_box"},[s("vueCropper",{ref:"assetCropper",attrs:{img:t.addAssetOption.img,outputSize:t.addAssetOption.size,info:t.addAssetOption.info,canScale:t.addAssetOption.canScale,autoCrop:t.addAssetOption.autoCrop,autoCropWidth:t.addAssetOption.autoCropWidth,full:t.addAssetOption.full,autoCropHeight:t.addAssetOption.autoCropHeight,fixedBox:t.addAssetOption.fixedBox,fixedNumber:t.addAssetOption.fixedNumber,enlarge:t.addAssetOption.enlarge,centerBox:t.addAssetOption.centerBox}})],1),s("label",{staticClass:"btn",attrs:{for:"uploads"}},[t._v("上传图片")]),s("input",{staticStyle:{position:"absolute",clip:"rect(0 0 0 0)"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:function(e){return t.assetUploadImg(e,1)}}}),s("button",{staticClass:"btn",on:{click:t.assetRotateLeft}},[t._v("向左翻转")]),s("button",{staticClass:"btn",on:{click:t.assetRotateRight}},[t._v("向右翻转")])])],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.assetQueren}},[t._v("确 定")])],1)],1),s("el-dialog",{staticClass:"addUeAsssetDialog",attrs:{title:"上传资产",visible:t.addAsssetDialog,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(e){t.addAsssetDialog=e}}},[s("div",{style:t.addUeAsssetDialogHeight},[s("el-row",[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"addUeAsssetLeft"},[s("div",{staticClass:"addUeAsssetLeftContent",style:t.addUeAsssetLeftHeight},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("div",{staticClass:"addUeAsssetLeftList"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t资产名称：\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetLeftListInput"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.ueAsset.name)+"\n\t\t\t\t\t\t\t\t\t\t")])]),s("div",{staticClass:"addUeAsssetLeftList"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t中文名：\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetLeftListInput"},[s("el-input",{attrs:{size:"mini",placeholder:"请输入内容"},model:{value:t.ueAsset.cname,callback:function(e){t.$set(t.ueAsset,"cname",e)},expression:"ueAsset.cname"}})],1)]),s("div",{staticClass:"addUeAsssetLeftList"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t资产路径：\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetLeftListInput"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.ueAsset.package_path)+"\n\t\t\t\t\t\t\t\t\t\t")])]),s("div",{staticClass:"addUeAsssetLeftList"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t资产类型：\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetLeftListInput"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.ueAsset.asset_class)+"\n\t\t\t\t\t\t\t\t\t\t")])]),s("div",{staticClass:"addUeAsssetLeftList"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t资产尺寸：\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetLeftListInput"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.ueAsset.size.x)+"*"+t._s(t.ueAsset.size.y)+"*"+t._s(t.ueAsset.size.z)+"\n\t\t\t\t\t\t\t\t\t\t")])]),s("div",{staticClass:"addUeAsssetLeftList"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t资产标签：\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetLeftListInput colimgIntroBox"},[s("el-select",{ref:"select",staticStyle:{width:"100%"},attrs:{"popper-append-to-body":!1,"filter-method":t.filterablemethod,multiple:"",clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择标签",size:"mini"},model:{value:t.selectlabelValue,callback:function(e){t.selectlabelValue=e},expression:"selectlabelValue"}},t._l(t.selectlabelList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)]),s("div",{staticClass:"addUeAsssetLeftList"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t展示图：\n\t\t\t\t\t\t\t\t\t\t")])]),s("div",{staticClass:"addUeAsssetThumBox"},[s("el-upload",{ref:"refupload",staticClass:"upload-demo",staticStyle:{display:"inline-block","vertical-align":"text-bottom"},attrs:{action:t.uploadUrl,headers:t.uploadHeader,"show-file-list":!1,"on-success":t.fileUploadSuccessHandel,"before-upload":t.beforeUploadHandel,accept:".jpg,.jpeg,.png,.JPG,.JPEG,.gif,.GIF,.fbx,.FBX,.mp4,.mov,.avi",drag:""}},[s("img",{staticStyle:{"object-fit":"scale-down"},attrs:{src:t.assetThumData,width:"168",height:"126"}}),s("div",{staticClass:"addAssetThumBtn"},[s("i",{staticClass:"el-icon-upload2"})])])],1),s("div",{staticClass:"addUeAsssetLeftList2"},[s("div",{staticClass:"addUeAsssetLeftListLabel"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t详情展示：\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetLeftListDetaileAdd"},[s("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{size:"mini",action:"http://aniapi.tgyc.com/index.php/home/upload/upload_disk",headers:t.uploadHeader,"show-file-list":!1,"on-success":t.assetImgupload,"on-progress":t.assetImgprogress,"before-upload":t.beforeassetImgUpload,multiple:"",drag:"",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.gif,.GIF,.fbx,.FBX,.mp4,.mov,.avi"}},[s("i",{staticClass:"el-icon-plus"})])],1)]),s("div",{staticClass:"addUeAsssetPlayList"},t._l(t.addAssetImgList,function(e,a){return s("div",{key:a,staticClass:"addUeAssetMaxImgList"},[s("div",{staticClass:"addUeAssetMaxImgDel"},[s("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.addAssetMaxImgDel(a)}}})],1),"jpg"==e.file_type||"png"==e.file_type?s("img",{attrs:{src:t.$task.imgurl+"/"+e.www_path+e.server_path}}):s("video",{staticStyle:{width:"168px",height:"126px"},attrs:{src:t.$task.imgurl+"/"+e.www_path+e.server_path}})])}),0)])],1),s("div",{staticClass:"addUeAsssetLeftBtns"},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.submitAdd}},[t._v("上传资产")]),s("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.getSelectAsset}},[t._v("获取选择资产")])],1)])]),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"addUeAsssetRight"},[s("div",{staticClass:"addUeAsssetRightTitle"},[t._v("\n\t\t\t\t\t\t\t\t文件列表\n\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetRightFileContent",style:t.addUeAsssetRightHeight},[s("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.ueAssetFileList,function(e,a){return s("div",{key:a,staticClass:"addUeAsssetRightFileList"},[s("div",{staticClass:"addUeAsssetRightFilePath"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.package_name)+"\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetRightFileSize"},[-1!=e.size?s("span",[t._v(t._s(t.$task.bToConvert(e.size)))]):t._e(),-1==e.size?s("span",{staticClass:"addUeAsssetRightFileErr"},[t._v("文件未找到，请检查资产后重试！！！")]):t._e()])])}),0)],1),t.uploadState?s("div",{staticClass:"addUeAsssetRightProgress"},[s("el-progress",{attrs:{percentage:t.uploadProgress,format:t.format}})],1):t._e(),s("div",{staticClass:"addUeAsssetRightFileCount"},[t._v("\n\t\t\t\t\t\t\t\t总数："+t._s(t.ueAssetFileList.length)+"\n\t\t\t\t\t\t\t")])])])],1)],1)]),s("el-dialog",{staticClass:"addUeAsssetDialog",attrs:{title:"上传错误",visible:t.uploadErrShow,width:"800px"},on:{"update:visible":function(e){t.uploadErrShow=e}}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{style:t.addUeAsssetErrHeight},[s("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.uploadErrList,function(e,a){return s("div",{key:a,staticClass:"addUeAsssetErrList"},[s("div",{staticClass:"addUeAsssetErrPackageName"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.package_name)+"\n\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"addUeAsssetErrBase addUeAsssetRightFileErr"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.base)+"\n\t\t\t\t\t\t\t\t")])])}),0)],1)])],1)],1)],1)},[],!1,null,"4c81b274",null);C.options.__file="index.vue";e.a=C.exports}}]);
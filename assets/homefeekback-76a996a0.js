import{a as E}from"./axios-aba6f0e0.js";import{d as P,r as y,f as N,g as A,l as b,w as e,i as f,o as v,h as l,a as g,u,c as U,j as x,F as L,e as n,n as F,t as S}from"./index-ff0f00e9.js";const j=E.create({baseURL:"",timeout:0,transformRequest:[function(r){let m="";for(let i in r)m+=encodeURIComponent(i)+"="+encodeURIComponent(r[i])+"&";return m}],headers:{"Content-Type":"application/x-www-form-urlencoded"}});j.interceptors.request.use(r=>(r.headers={"X-token":"9bd11703e9a77566249b6e7764ad931d","X-user-id":"289","X-user-name":"%E5%8F%B2%E4%BD%B3%E6%98%95"},r),r=>{console.log(r)});j.interceptors.response.use(r=>r.data.data,r=>{console.log(r)});const V=j;let B="http://tpi.tgyc.com";function z(r){return V({url:B+"/index.php/home/project/getallproject",method:"GET",params:r})}function R(r){return V({url:B+"/index.php/home/task/getpj_collection_site",method:"GET",params:r})}const q={class:"operationStyle"},H={style:{display:"inline-block","margin-left":"10px"}},X={style:{display:"inline-block","margin-left":"10px"}},I=P({__name:"homefeekback",setup(r){let m=y(`height:${window.innerHeight-100}px;overflow-y:auto;`),i=N({choseTime:[],choseSendTime:[],resourcesName:"",projectValue:[],collectValue:[],siteValue:[],userPeople:[],feedbackGroup:[],feedbackCompany:[],chargePeople:[],chargeGroup:[],chargeCompany:[],feekbackState:[],feekbackLevel:[],problem_list:[]}),C=y([]),k=y([]);y([]);let T=s=>{console.log(s),J(s)},G=()=>{z().then(s=>{C.value=s})},J=s=>{R({project_id:s}).then(c=>{console.log(c),k.value=[],Y(c,"lens_collection").forEach(o=>{o.forEach(d=>{d.isCheck=!1}),k.value.push({lens_collection:o[0].lens_collection.toUpperCase()})})})},Y=(s,t)=>{var c=[],p=[],o;s=s.sort(function(h,_){var w=h[t],a=_[t];return w<a?-1:1}),s.length&&(o=s[0][t]);for(var d in s)s[d][t]===o?p.push(s[d]):(o=s[d][t],c.push(p),p=[s[d]]);return c.push(p),c};return A(()=>{G()}),(s,t)=>{const c=f("a-range-picker"),p=f("a-input"),o=f("a-select-option"),d=f("a-select"),h=f("el-button"),_=f("a-col"),w=f("a-row");return v(),b(w,{type:"flex",style:{height:"100%"}},{default:e(()=>[l(_,{flex:"200px"},{default:e(()=>[g("div",{style:F(u(m)),class:"treeAndSelectBox"},[l(c,{style:{width:"100%"},value:u(i).choseTime,"onUpdate:value":t[0]||(t[0]=a=>u(i).choseTime=a),"show-time":""},null,8,["value"]),l(c,{style:{width:"100%"},value:u(i).choseSendTime,"onUpdate:value":t[1]||(t[1]=a=>u(i).choseSendTime=a),"show-time":""},null,8,["value"]),l(p,{style:{width:"100%"},value:u(i).resourcesName,"onUpdate:value":t[2]||(t[2]=a=>u(i).resourcesName=a),placeholder:"Basic usage"},null,8,["value"]),l(d,{placeholder:"请选择项目",ref:"select",value:u(i).projectValue,"onUpdate:value":t[3]||(t[3]=a=>u(i).projectValue=a),style:{width:"100%"},onChange:u(T)},{default:e(()=>[(v(!0),U(L,null,x(u(C),a=>(v(),b(o,{value:a.id,key:a.id},{default:e(()=>[n(S(a.project),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"]),l(d,{placeholder:"请选择集",mode:"multiple",ref:"select",value:u(i).collectValue,"onUpdate:value":t[4]||(t[4]=a=>u(i).collectValue=a),style:{width:"100%"},"max-tag-count":1},{default:e(()=>[(v(!0),U(L,null,x(u(k),a=>(v(),b(o,{value:a.lens_collection,key:a.lens_collection},{default:e(()=>[n(S(a.lens_collection),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),l(d,{ref:"select",placeholder:"请选择",mode:"multiple",value:u(i).userPeople,"onUpdate:value":t[5]||(t[5]=a=>u(i).userPeople=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{ref:"select",placeholder:"请选择",mode:"multiple",value:u(i).feedbackGroup,"onUpdate:value":t[6]||(t[6]=a=>u(i).feedbackGroup=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{ref:"select",placeholder:"请选择",mode:"multiple",value:u(i).feedbackCompany,"onUpdate:value":t[7]||(t[7]=a=>u(i).feedbackCompany=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{ref:"select",placeholder:"请选择",mode:"multiple",value:u(i).chargePeople,"onUpdate:value":t[8]||(t[8]=a=>u(i).chargePeople=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{ref:"select",placeholder:"请选择",mode:"multiple",value:u(i).chargeGroup,"onUpdate:value":t[9]||(t[9]=a=>u(i).chargeGroup=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{ref:"select",placeholder:"请选择",mode:"multiple",value:u(i).chargeCompany,"onUpdate:value":t[10]||(t[10]=a=>u(i).chargeCompany=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{placeholder:"请选择",mode:"multiple",ref:"select",value:u(i).feekbackState,"onUpdate:value":t[11]||(t[11]=a=>u(i).feekbackState=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{ref:"select",placeholder:"请选择",mode:"multiple",value:u(i).feekbackLevel,"onUpdate:value":t[12]||(t[12]=a=>u(i).feekbackLevel=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"]),l(d,{placeholder:"请选择",mode:"multiple",ref:"select",value:u(i).problem_list,"onUpdate:value":t[13]||(t[13]=a=>u(i).problem_list=a),style:{width:"100%"}},{default:e(()=>[l(o,{value:"jack"},{default:e(()=>[n("Jack")]),_:1}),l(o,{value:"lucy"},{default:e(()=>[n("Lucy")]),_:1}),l(o,{value:"Yiminghe"},{default:e(()=>[n("yiminghe")]),_:1})]),_:1},8,["value"])],4),g("div",q,[g("div",H,[l(h,{size:"mini",onClick:t[14]||(t[14]=a=>s.getFeekBack())},{default:e(()=>[n("取消")]),_:1})]),g("div",X,[l(h,{type:"primary",size:"mini",onClick:t[15]||(t[15]=a=>s.uploadLogs())},{default:e(()=>[n("确认")]),_:1})])])]),_:1}),l(_,{flex:"auto"},{default:e(()=>[n("auto")]),_:1})]),_:1})}}});export{I as default};
